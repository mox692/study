%Date%:20210225
%source%:https://ja.wikipedia.org/wiki/%E5%85%B1%E9%80%9A%E9%83%A8%E5%88%86%E5%BC%8F%E9%99%A4%E5%8E%BB

## 概要
* 共通部分式除去の最適化について思ったkとお
## 発見
正直、下記2つのどっちが早くなるのかは、まあ微妙ではある
```
a = b * c + g;
d = b * c * d;
```
```
tmp = b * c;
a = tmp + g;
d = tmp * d;
```

* 上は b * cを2回やってるのでその結果を変数にしてる (2回目のloadと掛け算にかかる時間を節約してる)
* しかし一方で `tmp = b * c` で掛け算とmov命令(movは無視できるほど速そうだけど)が1つ追加されている
* まあ、この b*cが3箇所以上現れるのであれば、差が出てきてもおかしくないかなあ、的な
* なんかレジスタの個数が許す限りフルで使った方がいい気がしてるんだけど、wikiはそんな雰囲気じゃないのはなんでだろう
  * *膨大な一時変数を作成するとレジスタが枯渇し、メモリを使用する必要を生じる。単純な演算結果を必要に応じて再計算するより時間がかかってしまう場合もある。*
* あと、tmpを使った方がcacheにヒットしやすくなるかもしれない(上の例だと、1つの式に4箇所のmemoryアクセスが発生してるけど、下の例だと3箇所になってるので、よりキャッシュに当てやすいかも、知らんけど)

## 疑問

## その他
